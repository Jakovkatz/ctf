<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Where Am I?</title>
  <style>
    body { font-family: monospace; white-space: pre-wrap; padding: 2em; background: #111; color: #0f0; }
  </style>
</head>
<body>
  <h1>🔍 Environment Leak Test</h1>
  <div id="output">Loading...</div>

  <script>
    (async () => {
      const output = document.getElementById('output');
      let result = "";

      // Current URL
      result += "📍 Location: " + window.location.href + "\n\n";

      // User Agent
      result += "🧠 User Agent: " + navigator.userAgent + "\n\n";

      // Document cookies
      result += "🍪 Cookies: " + document.cookie + "\n\n";

      // HTML snippet
      result += "📄 HTML Snippet:\n" + document.documentElement.outerHTML.slice(0, 1000) + "\n\n";

      // Attempt fetch to internal file (example)
      try {
        const res = await fetch('/.env');
        const text = await res.text();
        result += `📁 /.env response (${res.status}):\n` + text.slice(0, 500) + "\n\n";
      } catch (err) {
        result += "❌ Error fetching /.env: " + err.message + "\n\n";
      }

      // Remote ping (change to your server!)
      const pingUrl = "https://your-logging-server.example.com/ping?ua=" + encodeURIComponent(navigator.userAgent);
      const img = new Image();
      img.src = pingUrl;

      output.textContent = result;
    })();
  </script>
</body>
</html>
